<html><head>
<meta charset='UTF-8'>
<link href='resource/bootstrap.min.css' rel='Stylesheet' type='text/css' />
<link href='resource/style.css' rel='Stylesheet' type='text/css' />
</head>
<body>
<div id='page'>
<h1 class='entry-title'>My Dream SQL Tool Features</h1>
 <a class='url fn n profile-usercard-hover' href='https://social.msdn.microsoft.com/profile/Dan Fernandez - MSFT' target='_blank'>Dan Fernandez - MSFT</a>
<time>    2/10/2005 4:59:00 PM</time>
<hr>
<div id='content'><p>It's&nbsp;interesting to jump back and forth between&nbsp;both&nbsp;programming models as lately I've been working on a decent size SQL 2K database (4M+ rows). Personally, I'm a Query Analyzer&nbsp;guy and I do all my SQL work there. I'm used to having IntelliSense in VS, which is annoying not to have in QA,&nbsp;but for some reason I live with 8pt fonts for queries, but I couldn't stand it in VS. Go figure. In any case here are my&nbsp;dream SQL Tool programming features:</p> <p><strong>DTS support for Importing XML</strong></p> <ul> <li>I'm uploading a monster (multi-gigabyte) XML file into SQL 2K and you should see the stupid pet tricks I have to do to load it. I *don't* want to manually define the schema and create a mapping file, and a VBS script to run it, etc I want to use DTS and have it&nbsp;see an XML file the same way it sees any other data source. It should inspect the XML file, give me a list of tables/types and let me map them to existing data.</li></ul> <p><strong>Data Validation Rules</strong></p> <ul> <li>I won't elaborate here, but the data I've been working with is of unknown quality. As such I would love a way to easily validate that data. SQL has some easy validation rules (data type, nullability, joins), but I'd love more, like the ability to say that a date must be within a valid range, or that a number can't be negative, etc. I also want to be able to run these validation tests on data that&nbsp;already exists in a DB, in addition to running it as part of the data import process.</li></ul> <p><strong>Unit Test Support</strong></p> <ul> <li>Given the above&nbsp;point&nbsp;on unknown data quality, I would love a way to stub out unit tests to test for data integrity, as well as to test results of queries/views/stored procs against dummy data. You could even have code coverage tools.&nbsp;</li></ul> <p><strong>Refactoring</strong></p> <ul> <li><strong>Rename </strong>- I would love a Rename refactoring for variables, table/view data types and any other DB objects. The&nbsp;refactoring would automatically check and update any dependencies, comments, etc just like VS 2005. <li><strong>Extract to Stored Procedure/Function </strong>- How many times have you seen a 10+ page query that is completely procedural and poorly organized? You'll find 1/2 of the code copy/pasted into about&nbsp;five other stored procs too. Having the ability to refactor and componentize queries (where possible) would rock. <li><strong>Extract to&nbsp;Lookup Table</strong> - Take a table <u>Customer</u> with a varchar(50) column named <u>State </u>with values like "Alabama, Arkansas,...".&nbsp;Extract the unique values to a Lookup table with the structure like (<u>State_PK</u>, State_text) and have a wizard walk you through&nbsp;setting up the state lookup table name, PK name and type, and&nbsp;take the extracted values/datatypes (the state names)&nbsp;automatically add it to the lookup table in a column with the same name/data type. The original table would of course remove&nbsp;the <u>State</u> varchar column&nbsp;and instead add a foreign key relationship based on <u>State_PK</u>. <li><strong>Convert Columns to Rows&nbsp;or Convert Rows to Columns</strong>-&nbsp;There may be a time when you have&nbsp;data of an unknown structure that you use a Row based table structure. A row based structure doesn't define the specific columns, but instead has only a couple of columns like Key and Value. There are times when you need to convert an already existing DB design between these. Although more rare, it's definitely a pain, and something that you could easily automate. <li><strong>Promote Local to Parameter </strong>- This would be nice to have, in particular if it was integrated with the Client Code Dependency analysis feature (below). <li><strong>Client Code Dependency Analysis </strong>- Assuming an ASP.NET example, I want to know which pages will break if I change my stored procedures, and if it's possible, automatically fix the changes. Let's say I rename a stored proc, the Web page that calls that stored proc won't work anymore. This would automatically update the reference to the correct name. <li><strong>Normalization Analysis/Automation </strong>- Show me&nbsp;where my&nbsp;DB isn't normalized and refactor the database (ex remove calculated columns). It doesn't have to hit some <a href="http://www.dbdebunk.com/page/page/621935.htm">uber normalization like 6NF</a>, but how about to 3NF? <em>The key, the whole key, and nothing but the key, so help me Codd!</em></li></ul> <p><strong>FxCop</strong></p> <ul> <li>SQL Server already has a <a href="http://www.microsoft.com/downloads/details.aspx?FamilyID=b352eb1f-d3ca-44ee-893e-9e07339c1f22&amp;displaylang=en">Best Practices analyzer</a>, which is pretty good, but I want it integrated into Query Analyzer. SQL Server BPA includes rules for maintenance and design issues,&nbsp;and I believe query "no-no's" like cursors which is also great.&nbsp;&lt;aside&gt;:&nbsp;Cursors are the biggest, easily replaced perf hitters I know of, and I've always wanted to start "nodatabasecursors.com" with examples of cursors and why people think they need them and how they can be replaced with SQL.&lt;/aside&gt;</li></ul> <p><strong>Source Control for Stored Procs, Views, Triggers, Functions</strong></p> <ul> <li>Nuff said</li></ul> <p>&nbsp;</p> <p>My dream scenario: &nbsp;I would be able to import&nbsp;data&nbsp;using&nbsp;XML Bulk Insert through a wizard, run some validation code pre/post load, create a stored proc and refactor it automatically,&nbsp;generate unit test stubs for the stored&nbsp;proc, validate via FX Cop and then check in my code to some source control mechanism.</p> <p>For the DB programmers out there, what other dev tool IDE features do you miss when writing SQL code? Are there any cool tools/add-ins that have the features I listed above that I might not know about?</p> <p>&nbsp;</p> <p>&nbsp;</p> <p>&nbsp;</p></div>
</div></body>
<script type='text/javascript' src='resource/jquery-1.12.1.min.js'></script>
<script type='text/javascript' src='resource/replace.js'></script>
</html>
